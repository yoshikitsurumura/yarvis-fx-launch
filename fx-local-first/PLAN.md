# 短期計画（優先順位と実行順）

- 優先順位（合意案）: 
  1) GitHub Actions のプログラム完成 → 2) 販売経路（LP/デモ/課金） → 3) やーびす（自動PC操作）
- 目的: 各プロジェクトを安全・省コスト・再現可能に前進。重複作業を避け、効果の高い箇所から着手。

---

## 3プロジェクトの進捗（数値つき）

### 1) やーびす（自動PC操作）
- 進捗: 80%（MVP完了＋安全/UX強化）
- 完了: 
  - plan/dry-run/execute 3/3
  - 検証 3/3（アクション/URL/ドメイン）
  - 成果物配信+SVG 2/2
  - UI（ドライラン結果+実行抑止+成果物）1/1
  - ワンクリックデモ 1/1
  - ポリシー表示 1/1
  - API/E2Eテスト拡充 2/2
- 残り:
  - 許可セレクタ/アクション上限の設定ファイル化（詳細）
  - 限定ドメインでのヘッドレス実機操作（録画/スクショ）

### 2) GitHub Actions のプログラム（省コスト運用）
- 進捗: 90%（省コスト運用の要点完了）
- 完了:
  - ラベルトリガー（`run-ci`/`run-e2e`）と repo vars 併用
  - PRチェックリスト調整
  - CHANGELOG-lite 自動追記
  - `path-ignore`/`concurrency`/テンプレ整備
- 残り（精度/保守性の向上）:
  - CHANGELOG抽出の精度改善（直近マージPRのみ）。必要なら GitHub API 利用

### 3) 販売経路（作る→見せる→課金）
- 進捗: 70%（LP/要件固め＋デモ体験強化）
- 完了:
  - LP具体化（キャッチ/価値提案/デモ構成/安全方針/CTA/FAQ）
  - API/E2E/開発ログ更新
  - UIにワンクリックデモ追加
- 残り:
  - デモ動画収録と公開（短尺）
  - 無料デプロイ先選定
  - Stripeサンドボックス＋法務テンプレ初期導入

---

## 次アクション（この順で着手）

1) GitHub Actions のプログラムを完成させる
- 直近マージPRのみを対象に CHANGELOG 抽出（GraphQL/RESTのどちらかで`pull_request`検索→`labels`/`merge_commit_sha`/`mergedAt`でフィルタ）
- 失敗時フォールバック: 直近タグ差分の conventional commits をパースして暫定生成
- 実装ガイド:
  - 可能なら既存ワークフローへジョブ追加（`changelog` job → `summary`/`artifact`出力）
  - レーベル駆動の省コスト運用を維持（デフォはskip、`run-ci`/`run-e2e`で実行）
  - `path-ignore` と `concurrency` は現状維持

2) 販売経路を前進
- デモ動画（短尺）収録→LP/READMEへ埋め込み
- 無料デプロイ先（候補）選定と試行: Cloudflare Pages / Netlify / Vercel（無料枠）
- Stripe テストキーでサンドボックス導入、法務テンプレ（利用規約/プライバシー）下書き配置

3) やーびすのUX/安全性強化
- ポリシー編集UI（許可ドメイン/アクションを画面から編集→反映）
- 成果物ギャラリー（`/files` の最新ディレクトリを一覧表示）
- 将来: 実機操作＋録画保存（録画GIF自動生成でLPにも活用）

---

## 補足（使いやすさ・売りやすさの補強候補）
- ワンクリックデモの録画GIF自動生成（将来: 実機操作導入後に録画保存→LP活用）
- ポリシー編集UI（許可ドメイン/アクション編集→反映）
- 成果物ギャラリー（最新N件をWebから一覧表示）
- LPのCTA強化（デモリンク直通、メール/フォーム導線）

---

## 確認/依頼
- 了承事項: 上記の優先順位（Actions → 販売 → やーびす）で進めてよいか。
- リポジトリ権限: CHANGELOG抽出でGitHub APIを使う場合、`GITHUB_TOKEN`権限（`contents:read`, `pull-requests:read`）の確認をお願いします。
- デプロイ先: 無料枠の第一候補（Cloudflare/Netlify/Vercel）に希望があれば指示ください。

---

### 参考: （最小）トップレベルCI案（Python）
- 目的: 依存解決とCLIヘルプの実行確認のみ（無駄な実行を避ける）
- 方針: `path-ignore`で`docs/**`や`data/**`変更時はskip、`run-ci`ラベルで強制実行可能に
- 実装は別PRで追加予定（必要なら作成します）

